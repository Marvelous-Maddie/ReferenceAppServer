(this.webpackJsonpclienttest=this.webpackJsonpclienttest||[]).push([[0],{404:function(e,t,n){},405:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(15),o=n(33),s=n(41),l=null,u={get:function(e){var t={method:"GET",headers:i(e)};return fetch(e,t).then(m)},post:function(e,t){var n={method:"POST",headers:Object(s.a)({"Content-Type":"application/json"},i(e)),credentials:"include",body:JSON.stringify(t)};return fetch(e,n).then(m)},put:function(e,t){var n={method:"PUT",headers:Object(s.a)({"Content-Type":"application/json"},i(e)),body:JSON.stringify(t)};return fetch(e,n).then(m)},delete:function(e){var t={method:"DELETE",headers:i(e)};return fetch(e,t).then(m)},setToken:function(e){l=e}};function i(e){var t=e.startsWith("https://sheltered-sands-68051.herokuapp.com");return l&&t?(console.log("Token added"),console.log(window.account),{Authorization:"Bearer ".concat(l)}):{}}function m(e){return e.text().then((function(t){var n=t&&JSON.parse(t);if(!e.ok){var a=n&&n.message||e.statusText;return Promise.reject(a)}return n}))}var d=n(20),f=Object(d.a)(),p="Admin";var b="Success",h="Error",v="Info",E="Warning",g=n(2),w=n(3),j=n.n(w),O=n(5),y="".concat("https://sheltered-sands-68051.herokuapp.com","/accounts"),k={login:function(e,t){return u.post("".concat(y,"/authenticate"),{email:e,password:t})},logout:function(){u.post("".concat(y,"/revoke-token"),{}),f.push("/")},refreshToken:function(){return u.post("".concat(y,"/refresh-token"),{})},register:function(e){return u.post("".concat(y,"/register"),e)},verifyEmail:function(e){return u.post("".concat(y,"/verify-email"),{token:e})},forgotPassword:function(e){return u.post("".concat(y,"/forgot-password"),{email:e})},validateResetToken:function(e){return u.post("".concat(y,"/validate-reset-token"),{token:e})},resetPassword:function(e){var t=e.token,n=e.password,a=e.confirmPassword;return u.post("".concat(y,"/reset-password"),{token:t,password:n,confirmPassword:a})},getAll:function(){return u.get(y)},getById:function(e){return u.get("".concat(y,"/").concat(e))},create:function(e){return u.post(y,e)},update:function(e,t){return console.log(t),u.put("".concat(y,"/").concat(e),t)},delete:function(e){return u.delete("".concat(y,"/").concat(e)).then((function(e){return e}))},setToken:function(e){u.setToken(e)}};var N="".concat("https://sheltered-sands-68051.herokuapp.com","/pages"),S={getAll:function(){var e=Object(O.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N);case 2:return t=e.sent,e.next=5,t.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getById:function(){var e=Object(O.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N+"/"+t);case 2:return n=e.sent,e.next=5,n.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=Object(O.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.post("".concat(N),t),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(O.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.put("".concat(N,"/").concat(t),n);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=Object(O.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.delete("".concat(N,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x="".concat("https://sheltered-sands-68051.herokuapp.com","/comments"),P=function(){var e=Object(O.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.put("".concat(x,"/").concat(t),n);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A={create:function(){var e=Object(O.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.post("".concat(x,"/").concat(t),n);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),update:P,delete:function(){var e=Object(O.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.delete("".concat(x,"/").concat(t,"/").concat(n._id));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},C="".concat("https://sheltered-sands-68051.herokuapp.com","/files/upload"),T={uploadFile:function(){var e=Object(O.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("file upload service"),e.prev=1,e.next=4,fetch(C,{method:"POST",body:t});case 4:return n=e.sent,e.next=7,n.json();case 7:return n=e.sent,console.log(n),a='&lt;img src="'+n+'" width="10%" &gt;',e.abrupt("return",a);case 13:return e.prev=13,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()},M={pStore:{pages:[],page:null,comment:null,addLoadedPages:Object(g.b)((function(e,t){e.pages=t})),createComment:Object(g.b)((function(e,t){var n={content:"",userName:t.userName,userId:t.id};e.comment=n})),createPage:Object(g.b)((function(e){e.page={title:"New Page Title",slug:"newPage",subtitle:"",content:"",comments:[]}})),removePage:Object(g.b)((function(e,t){e.pages=e.pages.filter((function(e){return e._id!==t._id})),e.page=null})),editComment:Object(g.b)((function(e,t){e.comment=t})),clearComment:Object(g.b)((function(e){e.comment=null})),setPage:Object(g.b)((function(e,t){e.page=t,e.pages=e.pages.map((function(e){return e._id===t._id?t:e}))})),addPage:Object(g.b)((function(e,t){e.pages.push(t),e.page=t})),replaceComment:Object(g.b)((function(e,t){e.page.comments=e.page.comments.map((function(e){return e._id===t._id?t:e}))})),removeComment:Object(g.b)((function(e,t){e.page.comments=e.page.comments.filter((function(e){return e._id!==t._id}))})),addComment:Object(g.b)((function(e,t){e.page.comments.push(t)})),loadPages:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getAll();case 2:a=e.sent,t.addLoadedPages(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),loadPage:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t,n,a){var r,c,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.getState(),c=r.pages.find((function(e){return e.slug===n}))){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,S.getById(c._id);case 6:o=e.sent,t.setPage(o);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),updatePageContent:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t,n,a){var r,c,o,s,l,u,i,m;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n._id,c=n.slug,o=n.title,s=n.subtitle,l=n.content,u={slug:c,title:o,subtitle:s,content:l},!r){e.next=9;break}return e.next=5,S.update(r,u);case 5:i=e.sent,t.setPage(i),e.next=13;break;case 9:return e.next=11,S.create(u);case 11:m=e.sent,t.addPage(m);case 13:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),deletePage:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t,n,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n._id){e.next=4;break}return e.next=3,S.delete(n._id);case 3:t.removePage(n);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),saveComment:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t,n,a){var r,c,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.getState(),console.log(n),!n._id){e.next=10;break}return console.log(r.page._id),e.next=6,A.update(r.page._id,n);case 6:c=e.sent,t.replaceComment(c),e.next=14;break;case 10:return e.next=12,A.create(r.page._id,n);case 12:o=e.sent,t.addComment(o);case 14:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),deleteComment:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t,n,a){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.getState(),!n._id){e.next=5;break}return e.next=4,A.delete(r.page._id,n);case 4:t.removeComment(n);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}())},aStore:{accounts:[],account:null,editAccount:null,refreshTokenTimeout:null,refreshToken:null,addAccount:Object(g.b)((function(e,t){e.account=t,e.refreshToken=null===t||void 0===t?void 0:t.jwtToken,k.setToken(null===t||void 0===t?void 0:t.jwtToken),window.account=t})),addNewAccount:Object(g.b)((function(e,t){e.accounts.push(t),e.editAccount=t})),setAccount:Object(g.b)((function(e,t){console.log("Account",t),k.setToken(null===t||void 0===t?void 0:t.jwtToken),e.account=t,e.refreshToken=null===t||void 0===t?void 0:t.jwtToken,e.editAccount=t})),setEditAccount:Object(g.b)((function(e,t){e.editAccount=t})),replaceAccount:Object(g.b)((function(e,t){e.accounts=e.accounts.map((function(e){return e.id!==t.id&&e.id?e:t})),e.account.id!==t.id&&e.account.id||(e.account=t,e.refreshToken=null===t||void 0===t?void 0:t.jwtToken,k.setToken(null===t||void 0===t?void 0:t.jwtToken),e.editAccount=t)})),removeAccount:Object(g.b)((function(e,t){var n=e.accounts.filter((function(e){return e.id!==t}));e.account.id===t&&(e.account=n,e.editAccount=n)})),setAccounts:Object(g.b)((function(e,t){e.accounts=t})),clearAccount:Object(g.b)((function(e){k.setToken(null),e.account=null,e.refreshToken=null,window.account=null})),login:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t,n){var a,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.email,r=n.password,console.log(a),e.next=4,k.login(a,r);case 4:c=e.sent,t.setAccount(c);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),logout:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.logout();case 2:t.clearAccount();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),refreshTheToken:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.refreshToken();case 2:a=e.sent,t.setAccount(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),register:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.register(n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),verifyEmail:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.verifyEmail(n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),forgotPassword:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.forgotPassword(n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),validateResetToken:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.validateResetToken(n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),resetPassword:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t,n){var a,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.token,r=n.password,c=n.confirmPassword,e.next=3,k.resetPassword(a,r,c);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),getAllAccounts:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getAll();case 2:n=e.sent,t.setAccounts(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),getAccountById:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getById(n);case 2:a=e.sent,t.setEditAccount(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),createAccount:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,k.create(n);case 3:a=e.sent,console.log(a),t.addNewAccount(a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),updateAccount:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t,n){var a,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.id,r=n.params,e.next=3,k.update(a,r);case 3:c=e.sent,t.replaceAccount(c);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),deleteAccount:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.delete(n);case 2:t.removeAccount(n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},iStore:{alerts:[],setAlertInternal:Object(g.b)((function(e,t){e.alerts.push(t)})),removeAlert:Object(g.b)((function(e,t){e.alerts=e.alerts.filter((function(e){return e.id!==t.id}))})),clear:Object(g.b)((function(e){e.alerts=[]})),alert:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.id=Math.floor(1e4*Math.random()),n.autoClose=void 0===n.autoClose||n.autoClose,t.setAlertInternal(n),n.autoClose&&setTimeout((function(){return t.removeAlert(n)}),3500);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),success:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.type=b,e.next=3,t.alert(n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),error:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.type=h,e.next=3,t.alert(n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),info:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.type=v,e.next=3,t.alert(n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),warn:Object(g.d)(function(){var e=Object(O.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.type=E,e.next=3,t.alert(n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}},q=Object(g.c)(M),F=n(11);function _(e){e.id,e.fade;var t=Object(g.f)((function(e){return e.iStore.alerts})),n=Object(g.e)((function(e){return e.iStore.removeAlert}));function a(e){var t;if(e){var n=["alert","alert-dismissable"],a=(t={},Object(F.a)(t,b,"alert alert-success"),Object(F.a)(t,h,"alert alert-danger"),Object(F.a)(t,v,"alert alert-info"),Object(F.a)(t,E,"alert alert-warning"),t);return n.push(a[e.type]),e.fade&&n.push("fade"),n.join(" ")}}return t.length?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"m-3"},t.map((function(e,t){return r.a.createElement("div",{key:t,className:a(e)},r.a.createElement("button",{className:"close",onClick:function(){return n(e)}},"\xd7"),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.message}}))})))):null}_.defaultProps={id:"default-alert",fade:!0};var R=n(7);function U(){var e=Object(g.f)((function(e){return e.aStore.account})),t=Object(g.e)((function(e){return e.aStore.logout})),n="".concat("https://sheltered-sands-68051.herokuapp.com","/api/api-docs");return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-info larger"},r.a.createElement("div",{className:"navbar-nav mr-auto"},r.a.createElement(R.b,{exact:!0,to:"/",className:"nav-item nav-link"},"Home"),r.a.createElement(R.b,{exact:!0,to:"/content",className:"nav-item nav-link"},"Documentation"),r.a.createElement("a",{className:"nav-item nav-link",href:n,target:"_blank"},"API-Documentation"),r.a.createElement(R.b,{to:"/profile",className:"nav-item nav-link"},"Profile"),e&&e.role===p&&r.a.createElement(R.b,{to:"/admin",className:"nav-item nav-link"},"Admin")),r.a.createElement("div",{className:"navbar-nav ml-auto"},e&&r.a.createElement("span",{className:"navbar-text mr-4"},"User: ",e.userName),e&&r.a.createElement("a",{onClick:function(){return t()},className:"nav-item nav-link "},"Logout"),!e&&r.a.createElement("a",{className:"nav-item nav-link",onClick:function(){return f.push("/account/login")},variant:"outline-success"},"Login"))))}var B=n(42);function I(e){var t=e.component,n=e.roles,a=Object(B.a)(e,["component","roles"]),o=Object(g.f)((function(e){return e.aStore.account}));return r.a.createElement(c.b,Object.assign({},a,{render:function(e){return console.log("Private Route"),o?n&&-1===n.indexOf(o.role)?r.a.createElement(c.a,{to:{pathname:"/"}}):r.a.createElement(t,e):r.a.createElement(c.a,{to:{pathname:"/account/login",state:{from:e.location}}})}}))}var D=n(70);function V(e){var t=e.name,n=e.label,a=e.formMethods,c=Object(B.a)(e,["name","label","formMethods"]),o=a.register,s=a.errors;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,n||t),r.a.createElement("input",Object.assign({name:t,ref:o},c,{className:"form-control"+(s[t]?" is-invalid":"")})),r.a.createElement(D.a,{errors:s,name:t}))}function L(e){var t=e.name,n=e.label,a=e.options,c=e.formMethods,o=Object(B.a)(e,["name","label","options","formMethods"]),s=c.register,l=c.errors;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,n||t),r.a.createElement("select",Object.assign({name:t,ref:s},o,{className:"form-control"+(l[t]?" is-invalid":"")}),a.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement(D.a,{errors:l,name:t}))}function J(e){var t,n,a=e.label,c=e.formMethods,o=e.children,s=(Object(B.a)(e,["label","formMethods","children"]),c.isSubmitting);return console.log(o),Array.isArray(o)?(t=o.filter((function(e){return"true"!==e.props.posright})),n=o.filter((function(e){return"true"===e.props.posright}))):(t=[o],n=[]),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col"},r.a.createElement("button",{type:"submit",disabled:s,className:"btn btn-primary"},s&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-1"}),a),r.a.Children.map(t,(function(e){return e}))),r.a.createElement("div",{className:"form-group col text-right"}),r.a.Children.map(n,(function(e){return e})))}function H(){return r.a.createElement("div",{className:"m-4"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"mb-4  display-4"},"Reference App MERN-Stack"),r.a.createElement("h3",null,"A simple app to manage technical documentation."),r.a.createElement("div",{className:"larger"},r.a.createElement("p",null,"It is the purpose of this application to be used as a correct and well coded example of the implementation of a CRUD application with autherization and messaging system."),r.a.createElement("p",null,"If your are building an app you can always go to this app an find a good and working implementation of the basic functionality needed to build such an app.")),r.a.createElement("h3",null,"Functionality of the App"),r.a.createElement("ul",{className:"larger feature"},r.a.createElement("li",null,"The documentation pages can be entered in the markdown syntax, which supports many formatting options including including pictures in the documents. Pictures can be uploaded and included into the documentation."),r.a.createElement("li",null,"The authorization includes login, sign-up, email verification, password reset, user-roles, user can edit their profile and an administrator can add, edit and delete all the users."),r.a.createElement("li",null,"The application is built on the Redux pattern and uses Easy-Peasy to implement it"),r.a.createElement("li",null,"For each documentation page the users can leave comments."),r.a.createElement("li",null,"A User can view all the pages even when he is not logged in. A user must me logged in to leave a comment."),r.a.createElement("li",null,"A user can edit and/or delete his comments but can not edit or delete comments made by other users"),r.a.createElement("li",null,"Pages can be added, edited and deleted only by users who belong to the admin group."),r.a.createElement("li",null,"Pages can be added, edited and deleted only by users who belong to the admin group."),r.a.createElement("li",null,"An administrator can edit and delete comments even if they were made by another user."),r.a.createElement("li",null,"The swagger documentation of the underlying api can be accessed via the menu."))))}function z(e){var t=e.match,n=Object(g.f)((function(e){return e.aStore.account})),a=t.path;return r.a.createElement("div",null,r.a.createElement("h1",null,"My Profile"),r.a.createElement("p",null,r.a.createElement("strong",null,"Name: ")," ",n.userName,r.a.createElement("br",null),r.a.createElement("strong",null,"Email: ")," ",n.email),r.a.createElement("p",null,r.a.createElement(R.a,{to:"".concat(a,"/update")},"Update Profile")))}var W=n(13),G=n(12),K=n(10),Q=n(23),X=K.a().shape({userName:K.c().required("Username is required"),email:K.c().email("Email is invalid").required("Email is required"),password:K.c().min(6,"Password must be at least 6 characters"),confirmPassword:K.c().when("password",(function(e,t){if(e)return t.required("Confirm Password is required")})).oneOf([K.b("password")],"Passwords must match")});function Y(e){var t=e.history,n=Object(g.f)((function(e){return e.aStore.account})),c=Object(g.e)((function(e){return e.aStore.updateAccount})),o=Object(g.e)((function(e){return e.aStore.deleteAccount})),s=Object(g.e)((function(e){return e.iStore.success})),l=Object(g.e)((function(e){return e.iStore.error})),u={userName:n.userName,email:n.email,password:"",confirmPassword:""},i=Object(G.d)({defaultValues:u,mode:"onBlur",resolver:Object(Q.a)(X)}),m=i.handleSubmit;var d=Object(a.useState)(!1),f=Object(W.a)(d,2),p=f[0],b=f[1];return r.a.createElement("form",{onSubmit:m((function(e,a){var r=a.setStatus,o=a.setSubmitting;r(),console.log(n.id),console.log(e),c({id:n.id,params:e}).then((function(){s({message:"Update successful",options:{keepAfterRouteChange:!0}}),t.push(".")})).catch((function(e){o(!1),l({message:e})}))}))},r.a.createElement("h1",null,"Update Profile"),r.a.createElement(V,{name:"userName",label:"Username",formMethods:i}),r.a.createElement(V,{name:"email",label:"Email",formMethods:i}),r.a.createElement("h3",{className:"pt-3"},"Change Password"),r.a.createElement("p",null,"Leave blank to keep the same password"),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col"},r.a.createElement(V,{name:"password",label:"Password",type:"password",formMethods:i})),r.a.createElement("div",{className:"col"},r.a.createElement(V,{name:"confirmPassword",label:"Confirm Password",type:"password",formMethods:i}))),r.a.createElement(J,{label:"Update",formMethods:i},r.a.createElement("button",{type:"button",onClick:function(){window.confirm("Are you sure?")&&(b(!0),o(n.id).then((function(){return s("Account deleted successfully")})))},className:"btn btn-danger ml-2",style:{width:"75px"},disabled:p},p?r.a.createElement("span",{className:"spinner-border spinner-border-sm"}):r.a.createElement("span",null,"Delete")),r.a.createElement(R.a,{to:".",className:"btn btn-link"},"Cancel")))}function Z(e){var t=e.match.path;return r.a.createElement("div",{className:"p-4"},r.a.createElement("div",{className:"container"},r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:t,component:z}),r.a.createElement(c.b,{path:"".concat(t,"/update"),component:Y}))))}function $(e){var t=e.match.path;return r.a.createElement("div",null,r.a.createElement("h1",null,"Admin"),r.a.createElement("p",null,"This section can only be accessed by administrators."),r.a.createElement("p",null,r.a.createElement(R.a,{to:"".concat(t,"/users")},"Manage Users")))}function ee(e){var t=e.match,n=Object(g.f)((function(e){return e.aStore.accounts})),o=Object(g.e)((function(e){return e.aStore.getAllAccounts})),s=Object(g.e)((function(e){return e.aStore.setEditAccount})),l=Object(g.e)((function(e){return e.aStore.deleteAccount})),u=t.path,i=Object(c.g)();return Object(a.useEffect)((function(){o()}),[]),r.a.createElement("div",null,r.a.createElement("h1",null,"Users"),r.a.createElement("p",null,"All users from secure (admin only) api end point:"),r.a.createElement(R.a,{to:"".concat(u,"/add"),className:"btn btn-sm btn-success mb-2"},"Add User"),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"30%"}},"Username"),r.a.createElement("th",{style:{width:"30%"}},"Email"),r.a.createElement("th",{style:{width:"30%"}},"Role"),r.a.createElement("th",{style:{width:"10%"}}))),r.a.createElement("tbody",null,n&&n.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.userName),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.role),r.a.createElement("td",{style:{whiteSpace:"nowrap"}},r.a.createElement("button",{onClick:function(){return function(e){s(e),i.push("".concat(u,"/edit/").concat(e.id))}(e)},style:{width:"60px"},className:"btn btn-sm btn-primary mr-1"},"Edit"),r.a.createElement("button",{onClick:function(){return t=e.id,void l(t);var t},className:"btn btn-sm btn-danger",style:{width:"60px"},disabled:e.isDeleting},e.isDeleting?r.a.createElement("span",{className:"spinner-border spinner-border-sm"}):r.a.createElement("span",null,"Delete"))))})),!n&&r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"4",className:"text-center"},r.a.createElement("span",{className:"spinner-border spinner-border-lg align-center"}))))))}function te(e){var t=e.history,n=e.match,c=Object(g.f)((function(e){return e.aStore.editAccount})),o=Object(g.e)((function(e){return e.aStore.createAccount})),s=Object(g.e)((function(e){return e.aStore.updateAccount})),l=Object(g.e)((function(e){return e.aStore.getAccountById})),u=Object(g.e)((function(e){return e.iStore.success})),i=Object(g.e)((function(e){return e.iStore.error})),m=n.params.id,d=!m;Object(a.useEffect)((function(){d||l(m)}),[]);var f={userName:null===c||void 0===c?void 0:c.userName,email:null===c||void 0===c?void 0:c.email,role:null===c||void 0===c?void 0:c.role,password:"",confirmPassword:""},p=d?{userName:"",email:"",role:"",password:"",confirmPassword:""}:f,b=K.a().shape({userName:K.c().required("Username is required"),email:K.c().email("Email is invalid").required("Email is required"),role:K.c().required("Role is required"),password:K.c().concat(d?K.c().required("Password is required"):null).min(6,"Password must be at least 6 characters"),confirmPassword:K.c().when("password",(function(e,t){if(e)return t.required("Confirm Password is required")})).oneOf([K.b("password")],"Passwords must match")});var h=Object(G.d)({defaultValues:p,mode:"onBlur",resolver:Object(Q.a)(b)}),v=h.handleSubmit;return r.a.createElement("form",{onSubmit:v((function(e,n){var a=n.setStatus,r=n.setSubmitting;a(),d?function(e,n){o(e).then((function(){u({message:"User added successfully",keepAfterRouteChange:!0}),t.push(".")})).catch((function(e){n(!1),i({message:e})}))}(e,r):function(e,n,a){s({id:e,params:n}).then((function(){u({message:"Update successful",keepAfterRouteChange:!0}),t.push("..")})).catch((function(e){a(!1),i({message:e})}))}(m,e,r)}))},r.a.createElement("h1",null,d?"Add User":"Edit User"),r.a.createElement(V,{name:"userName",label:"Username",formMethods:h}),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-7"},r.a.createElement(V,{name:"email",label:"Email",formMethods:h})),r.a.createElement("div",{className:"col"},r.a.createElement(L,{name:"role",label:"Role",options:["","User","Admin"],formMethods:h}))),!d&&r.a.createElement("div",null,r.a.createElement("h3",{className:"pt-3"},"Change Password"),r.a.createElement("p",null,"Leave blank to keep the same password")),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col"},r.a.createElement(V,{name:"password",label:"Password",type:"password",formMethods:h})),r.a.createElement("div",{className:"col"},r.a.createElement(V,{name:"confirmPassword",label:"Confirm Password",type:"password",formMethods:h}))),r.a.createElement(J,{label:"Save",formMethods:h},r.a.createElement(R.a,{to:d?".":"..",className:"btn btn-link"},"Cancel")))}function ne(e){var t=e.match.path;return r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:t,component:ee}),r.a.createElement(c.b,{path:"".concat(t,"/add"),component:te}),r.a.createElement(c.b,{path:"".concat(t,"/edit/:id"),component:te}))}function ae(e){var t=e.match.path;return r.a.createElement("div",{className:"p-4"},r.a.createElement("div",{className:"container"},r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:t,component:$}),r.a.createElement(c.b,{path:"".concat(t,"/users"),component:ne}))))}var re=K.a().shape({email:K.c().email("Email is invalid").required("Email is required"),password:K.c().required("Password is required")});function ce(e){var t=e.history,n=e.location,a=Object(g.e)((function(e){return e.aStore.login})),c=Object(g.e)((function(e){return e.iStore.error})),o=Object(g.e)((function(e){return e.iStore.clear})),s=Object(G.d)({mode:"onBlur",resolver:Object(Q.a)(re)}),l=s.handleSubmit;return r.a.createElement("form",{onSubmit:l((function(e){var r=e.email,s=e.password;o(),a({email:r,password:s}).then((function(){var e=(n.state||{from:{pathname:"/"}}).from;t.push(e)})).catch((function(e){c({message:e})}))}))},r.a.createElement("h3",{className:"card-header"},"Login"),r.a.createElement("div",{className:"card-body"},r.a.createElement(V,{name:"email",label:"Email",formMethods:s}),r.a.createElement(V,{name:"password",label:"Password",formMethods:s,type:"password"}),r.a.createElement(J,{label:"Login",formMethods:s},r.a.createElement(R.a,{to:"register",className:"btn btn-link"},"Register"),r.a.createElement(R.a,{to:"forgot-password",className:"btn btn-link pr-0",posright:"true"},"Forgot Password?"))))}var oe=K.a().shape({userName:K.c().required("Username is required"),email:K.c().email("Email is invalid").required("Email is required"),password:K.c().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:K.c().oneOf([K.b("password"),null],"Passwords must match").required("Confirm Password is required")});function se(e){var t=e.history,n=Object(g.e)((function(e){return e.aStore.register})),a=Object(g.e)((function(e){return e.iStore.success})),c=Object(g.e)((function(e){return e.iStore.error})),o=Object(G.d)({mode:"onBlur",resolver:Object(Q.a)(oe)}),s=o.handleSubmit;return r.a.createElement("form",{onSubmit:s((function(e){n(e).then((function(){a({message:"Registration successful, please check your email for verification instructions",keepAfterRouteChange:!0}),t.push("login")})).catch((function(e){c({message:e})}))}))},r.a.createElement("h3",{className:"card-header"},"Register"),r.a.createElement("div",{className:"card-body"},r.a.createElement(V,{name:"userName",label:"Username",formMethods:o}),r.a.createElement(V,{name:"email",label:"Email",formMethods:o}),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col"},r.a.createElement(V,{name:"password",label:"Password",type:"password",formMethods:o})),r.a.createElement("div",{className:"col"},r.a.createElement(V,{name:"confirmPassword",label:"Confirm Password",type:"password",formMethods:o}))),r.a.createElement(J,{label:"Register",formMethods:o},r.a.createElement(R.a,{to:"login",className:"btn btn-link",posright:"false"},"Cancel"))))}var le=n(54),ue=n.n(le);function ie(e){var t=e.history,n=Object(g.e)((function(e){return e.aStore.verifyEmail})),c=Object(g.e)((function(e){return e.iStore.success})),o="Verifying",s="Failed",l=Object(a.useState)(o),u=Object(W.a)(l,2),i=u[0],m=u[1];return Object(a.useEffect)((function(){var e=ue.a.parse(window.location.search).token;t.replace(window.location.pathname),n(e).then((function(){c({message:"Verification successful, you can now login",keepAfterRouteChange:!0}),t.push("login")})).catch((function(){m(s)}))}),[]),r.a.createElement("div",null,r.a.createElement("h3",{className:"card-header"},"Verify Email"),r.a.createElement("div",{className:"card-body"},function(){switch(i){case o:return r.a.createElement("div",null,"Verifying...");case s:return r.a.createElement("div",null,"Verification failed, you can also verify your account using the"," ",r.a.createElement(R.a,{to:"forgot-password"},"forgot password")," page.");default:return r.a.createElement(r.a.Fragment,null)}}()))}var me=K.a().shape({email:K.c().email("Email is invalid").required("Email is required")});function de(){var e=Object(g.e)((function(e){return e.aStore.forgotPassword})),t=Object(g.e)((function(e){return e.iStore.success})),n=Object(g.e)((function(e){return e.iStore.error})),a=Object(g.e)((function(e){return e.iStore.clear})),c=Object(G.d)({mode:"onBlur",resolver:Object(Q.a)(me)}),o=c.handleSubmit;return r.a.createElement("form",{onSubmit:o((function(r){var c=r.email;a(),e(c).then((function(){return t({message:"Please check your email for password reset instructions"})})).catch((function(e){return n({message:e})}))}))},r.a.createElement("h3",{className:"card-header"},"Forgot Password"),r.a.createElement("div",{className:"card-body"},r.a.createElement(V,{name:"email",label:"Email",formMethods:c}),r.a.createElement(J,{label:"Forgot Password",formMethods:c},r.a.createElement(R.a,{to:"login",className:"btn btn-link",posright:"false"},"Cancel"))))}var fe=K.a().shape({password:K.c().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:K.c().oneOf([K.b("password"),null],"Passwords must match").required("Confirm Password is required")});function pe(e){var t=e.history,n=Object(g.e)((function(e){return e.aStore.validateResetToken})),c=Object(g.e)((function(e){return e.iStore.success})),o=Object(g.e)((function(e){return e.iStore.error})),s=Object(g.e)((function(e){return e.iStore.clear})),l=Object(g.e)((function(e){return e.aStore.resetPassword})),u="Validating",i="Valid",m="Invalid",d=Object(a.useState)(null),f=Object(W.a)(d,2),p=f[0],b=f[1],h=Object(a.useState)(u),v=Object(W.a)(h,2),E=v[0],w=v[1];Object(a.useEffect)((function(){var e=ue.a.parse(window.location.search).token;t.replace(window.location.pathname),n(e).then((function(){b(e),w(i)})).catch((function(){w(m)}))}),[]);var j=Object(G.d)({mode:"onBlur",resolver:Object(Q.a)(fe)});return r.a.createElement("div",null,r.a.createElement("h3",{className:"card-header"},"Reset Password"),r.a.createElement("div",{className:"card-body"},function(e){switch(E){case i:return function(e){var n=e.handleSubmit;return r.a.createElement("form",{onSubmit:n((function(e,n){var a=e.password,r=e.confirmPassword,u=n.setSubmitting;s(),l({token:p,password:a,confirmPassword:r}).then((function(){c({message:"Password reset successful, you can now login",options:{keepAfterRouteChange:!0}}),t.push("login")})).catch((function(e){u(!1),o({message:e})}))}))},r.a.createElement(V,{name:"password",label:"Password",type:"password",formMethods:e}),r.a.createElement(V,{name:"confirmPassword",label:"Confirm Password",type:"password",formMethods:e}),r.a.createElement(J,{label:"Reset Password",formMethods:e},r.a.createElement(R.a,{to:"login",className:"btn btn-link",posright:"false"},"Cancel")))}(e);case m:return r.a.createElement("div",null,"Token validation failed, if the token has expired you can get a new one at the ",r.a.createElement(R.a,{to:"forgot-password"},"forgot password")," page.");case u:return r.a.createElement("div",null,"Validating token...");default:return r.a.createElement(r.a.Fragment,null)}}(j)))}function be(e){var t=e.history,n=e.match.path,o=Object(g.f)((function(e){return e.aStore.account}));return Object(a.useEffect)((function(){o&&t.push("/")}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-8 offset-sm-2 mt-5"},r.a.createElement("div",{className:"card m-3"},r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"".concat(n,"/login"),component:ce}),r.a.createElement(c.b,{path:"".concat(n,"/register"),component:se}),r.a.createElement(c.b,{path:"".concat(n,"/verify-email"),component:ie}),r.a.createElement(c.b,{path:"".concat(n,"/forgot-password"),component:de}),r.a.createElement(c.b,{path:"".concat(n,"/reset-password"),component:pe}))))))}var he=n(28);function ve(e){var t=e.page,n=Object(c.g)();return console.log(t),r.a.createElement(he.a,{className:"mb-3 mx-5 p-3",onClick:function(){return n.push("/topic/"+t.slug)}},r.a.createElement(he.a.Body,null,r.a.createElement(he.a.Title,null,t.title),r.a.createElement(he.a.Subtitle,null,t.subtitle)))}var Ee=n(35),ge=n(46),we=n(47),je=n(55);function Oe(){var e=Object(g.f)((function(e){return e.pStore.pages})),t=Object(g.e)((function(e){return e.pStore.createPage})),n=Object(c.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{className:"w-auto mt-5 "},r.a.createElement("button",{className:"float-right btn btn-link mr-5",onClick:function(){t(),n.push("/topic/newPage")}},r.a.createElement(je.a,{className:"larger mt-1  text-secondary"})),r.a.createElement(ge.a,null,r.a.createElement("h2",{className:"mb-3 ml-5"},"Documentation")),e.map((function(e){return r.a.createElement(ge.a,{key:e._id},r.a.createElement(we.a,null,r.a.createElement(ve,{page:e})))}))))}var ye=n(56),ke=n.n(ye),Ne=n(34);function Se(e){var t=e.data,n=Object(c.g)(),a=Object(g.f)((function(e){return e.pStore.page})),o=Object(g.f)((function(e){return e.aStore.account})),s=Object(g.e)((function(e){return e.pStore.editComment})),l=Object(g.e)((function(e){return e.pStore.deleteComment}));return r.a.createElement(he.a,{className:"mb-3"},r.a.createElement(he.a.Body,null,r.a.createElement(he.a.Title,null,"Comment by ",t.userName),r.a.createElement(he.a.Text,null,t.content),!o||o.id!==t.userId&&"Admin"!==o.role?null:r.a.createElement("div",{className:"float-right"},r.a.createElement("button",{className:"btn btn-link",onClick:function(){l(t),n.push("/topic/"+a.slug)}},r.a.createElement(Ne.a,{className:"larger text-secondary"}))," ",r.a.createElement("button",{className:"btn btn-link",onClick:function(){s(t),n.push("/comment")}},r.a.createElement(Ne.b,{className:"larger text-secondary"}))," ")))}function xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.comments;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(Se,{key:e._id,data:e})})))}function Pe(){var e=Object(g.f)((function(e){return e.pStore.page})),t=Object(g.f)((function(e){return e.aStore.account})),n=Object(g.e)((function(e){return e.pStore.createComment})),a=Object(c.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,e.title),r.a.createElement(ke.a,{source:e.content,escapeHtml:!1,className:"mb-4"}),r.a.createElement("div",{className:"mt-5"}),r.a.createElement("hr",{className:"mt-3 mb-3"}),r.a.createElement(ge.a,null,r.a.createElement(we.a,null,r.a.createElement("h4",{className:"mt-1"},"Comments")),r.a.createElement(we.a,null,t?r.a.createElement("button",{className:"float-right btn btn-link",onClick:function(){n(t),a.push("/comment")}},r.a.createElement(je.a,{className:"larger text-secondary mb-1"})):null)),r.a.createElement(xe,{className:"float-none",comments:e.comments?e.comments:[]}))}var Ae=n(92);function Ce(e){var t=e.val,n=e.updatedValue;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae.a,{value:t,height:"300",onChange:function(e,t,a){n.current=a}}))}var Te=function(){var e=Object(a.useState)(),t=Object(W.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)("Choose image to upload"),s=Object(W.a)(o,2),l=s[0],u=s[1],i=Object(g.e)((function(e){return e.iStore.success})),m=function(){var e=Object(O.a)(j.a.mark((function e(t){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).append("file",n),console.log(a),e.next=6,T.uploadFile(a);case 6:r=e.sent,i({message:r,autoClose:!1}),u("");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:m,encType:"multipart/form-data"},r.a.createElement("div",{className:"custom-file "},r.a.createElement("input",{type:"file",className:"custom-file-input",id:"customFile",onChange:function(e){console.log(e.target.files[0]),c(e.target.files[0]),u(e.target.files[0].name)}}),r.a.createElement("label",{className:"custom-file-label",htmlFor:"customFile"},l)),r.a.createElement("input",{type:"submit",value:"Upload",className:"btn,  btn-light btn-block mt-3  float-left"}))};function Me(e){var t=e.page,n=Object(g.e)((function(e){return e.pStore.updatePageContent})),c={title:"",slug:"",subtitle:""},o=Object(G.d)({defaultValues:c}),s=o.register,l=o.handleSubmit,u=Object(a.useRef)();if(!t)return r.a.createElement("div",null,"loading");c.title=t.title,c.subtitle=t.subtitle,c.slug=t.slug;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:l((function(e){var a={_id:t._id,slug:e.slug,title:e.title,subtitle:e.subtitle,content:null===u||void 0===u?void 0:u.current};console.log(a),n(a)}))},r.a.createElement("button",{type:"submit",className:"btn btn-light float-right "},r.a.createElement(Ne.c,null)),r.a.createElement("div",{className:"form-group input-group-lg"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{id:"title",className:"form-control",name:"title",type:"text",ref:s})),r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{htmlFor:"slug"},"Slug"),r.a.createElement("input",{id:"slug",className:"form-control",name:"slug",type:"text",ref:s})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Subtitle"),r.a.createElement("textarea",{id:"subtitle",rows:"4",name:"subtitle",className:"form-control",ref:s})),r.a.createElement("div",{className:"form-group"}," ",r.a.createElement("label",{htmlFor:"content"},"Content"),r.a.createElement(Ce,{id:"content",val:t.content,updatedValue:u})," ")),r.a.createElement(Te,{className:"m-3"}))}var qe=n(43),Fe=n(73);function _e(){var e=Object(c.i)().slug,t=Object(g.f)((function(e){return e.pStore.page})),n=Object(g.f)((function(e){return e.aStore.account})),o=Object(g.e)((function(e){return e.pStore.loadPage})),s=Object(g.e)((function(e){return e.pStore.deletePage})),l=Object(a.useState)("show"),u=Object(W.a)(l,2),i=u[0],m=u[1],d=Object(a.useState)(),f=Object(W.a)(d,2),p=f[0],b=f[1],h=Object(c.g)();if(Object(a.useEffect)((function(){"NewPage"!==e?o(e):m("edit")}),[]),!t)return r.a.createElement("div",null,"still loading");return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{className:"w-auto mt-5 "},"Admin"===(null===n||void 0===n?void 0:n.role)?r.a.createElement("div",{className:"float-right"},"show"===i?r.a.createElement("button",{className:"btn btn-link",onClick:function(){p||b(!0)}},r.a.createElement(Ne.a,{className:"larger mt-1 text-secondary"})):null,r.a.createElement("button",{className:"btn btn-link",onClick:function(){m("edit"!==i?"edit":"show")}},r.a.createElement(Ne.b,{className:"larger mt-1 text-secondary"}))):null,"show"===i?r.a.createElement(Pe,null):null,"edit"===i?r.a.createElement(Me,{page:t}):null),r.a.createElement(qe.a,{show:p,onHide:function(){return b(!1)}},r.a.createElement(qe.a.Header,{closeButton:!0},r.a.createElement(qe.a.Title,null,"Confirmation")),r.a.createElement(qe.a.Body,null,"Do you really want to delete this page?"),r.a.createElement(qe.a.Footer,null,r.a.createElement(Fe.a,{variant:"secondary",onClick:function(){return b(!1)}},"Cancel"),r.a.createElement(Fe.a,{variant:"primary",onClick:function(){s(t),b(!1),h.push("/content")}},"Delete"))))}function Re(){var e=Object(g.f)((function(e){return e.pStore.comment})),t=Object(g.f)((function(e){return e.pStore.page})),n=Object(g.e)((function(e){return e.pStore.saveComment})),a=Object(g.e)((function(e){return e.pStore.clearComment})),o=Object(c.g)(),l={content:null===e||void 0===e?void 0:e.content},u=Object(G.d)({defaultValues:l}),i=u.register,m=u.handleSubmit;return r.a.createElement(Ee.a,{className:"w-auto mt-5 "},r.a.createElement("h3",null,"Edit Comment"),r.a.createElement("form",{onSubmit:m((function(a){var r=Object(s.a)(Object(s.a)({},e),{},{content:a.content});n(r),o.push("/topic/"+t.slug)}))},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"content"},"Comment"),r.a.createElement("textarea",{id:"content",rows:"4",name:"content",className:"form-control",ref:i})),r.a.createElement("input",{type:"submit",value:"Save",className:"btn btn-primary"}),r.a.createElement("button",{onClick:function(){a(),o.push("/topic/"+t.slug)},className:"btn btn-secondary ml-2 "},"Cancel"," ")))}function Ue(){var e=Object(c.h)().pathname,t=Object(g.e)((function(e){return e.pStore.loadPages})),n=Object(g.f)((function(e){return e.aStore.refreshToken})),o=Object(g.e)((function(e){return e.aStore.refreshTheToken}));return Object(a.useEffect)((function(){var e;if(n){var t=JSON.parse(atob(n.split(".")[1])),a=new Date(1e3*t.exp).getTime()-Date.now()-6e4;e=setTimeout((function(){o()}),a)}return function(){return clearTimeout(e)}}),[n,o]),Object(a.useEffect)((function(){o(),t()}),[]),r.a.createElement("div",{className:"app-container bg-light"},r.a.createElement(U,null),r.a.createElement(_,null),r.a.createElement(c.d,null,r.a.createElement(c.a,{from:"/:url*(/+)",to:e.slice(0,-1)}),r.a.createElement(c.b,{exact:!0,path:"/",component:H}),r.a.createElement(c.b,{exact:!0,path:"/content",component:Oe}),r.a.createElement(c.b,{path:"/topic/:slug",component:_e}),r.a.createElement(I,{path:"/profile",component:Z}),r.a.createElement(I,{path:"/admin",roles:[p],component:ae}),r.a.createElement(c.b,{path:"/account",component:be}),r.a.createElement(c.b,{path:"/comment",component:Re})))}n(404);Object(o.render)(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g.a,{store:q},r.a.createElement(c.c,{history:f},r.a.createElement(Ue,null)))),document.getElementById("app"))},93:function(e,t,n){e.exports=n(405)}},[[93,1,2]]]);
//# sourceMappingURL=main.d0a2af8d.chunk.js.map